.\"
.\"	srecord - manipulate eprom load files
.\"	Copyright (C) 1998 Peter Miller;
.\"	All rights reserved.
.\"
.\"	This program is free software; you can redistribute it and/or modify
.\"	it under the terms of the GNU General Public License as published by
.\"	the Free Software Foundation; either version 2 of the License, or
.\"	(at your option) any later version.
.\"
.\"	This program is distributed in the hope that it will be useful,
.\"	but WITHOUT ANY WARRANTY; without even the implied warranty of
.\"	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\"	GNU General Public License for more details.
.\"
.\"	You should have received a copy of the GNU General Public License
.\"	along with this program; if not, write to the Free Software
.\"	Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
.\"
.\" MANIFEST: describe input file specifiers
.\"
.SH INPUT FILE SPECIFICATIONS
Input files may be qualified in a number of ways: you may specify their
format and you may specify filters to apply to them.
An input file specification looks like this:
.RS
\fIfilename\fP [ \fIformat\fP ][ \fIfilter\fP \&... ]
.RE
.PP
The
.I filename
The filename may be specified as a file name,
or the special name ``-'' which is understood to mean the standard input.
.SS File Formats
The
.I format
is specified by the argument \fIafter\fP the file name.
The format defaults to Motorola S-Record if not specified.
The format specified are:
.TP 8n
\fB\-Binary\fP
This option says the file is a raw binary file, and should be read literally.
(May also be written \-Raw.)
.TP 8n
\fB\-Intel\fP
This option says to use the Intel hex format to read the file.
See
.IR srec_intel (5)
for a description of this file format.
.TP 8n
\fB\-Motorola\fP
This option says to use the Motorola S-Record format to read the file.
(May also be written \-S-Record.)
See
.IR srec_motorola (5)
for a description of this file format.
.TP 8n
\fB\-Tektronix\fP
This option says to use the Tektronix hex format to read the file.
See
.IR srec_tektronix (5)
for a description of this file format.
.SS Input Filters
You may specify zero or more \fIfilters\fP to be applied.
Filters are applied in the order the user specifies.
.TP 8n
\fB\-Big_Endian_Checksum\fP \fIaddress\fP [ \fInbytes\fP ]
This filter may be used to insert the one's complement checksum of the
data into the data.  This \fIdoes not\fP include the checksum itself.
The data is literaly summed; if there are duplicate bytes, this will
produce an incorrect result, if there are holes, it will that they were
filled with zeros.
If the data already contains bytes at the checksum location,
you need to use an exclude filter, or this will generate errors.
You need to apply and crop or fill filters before this filter.
The value will be written with the most significant byte first.
The number of bytes defaults to 4.
.TP 8n
\fB\-Little_Endian_Checksum\fP \fIaddress\fP [ \fInbytes\fP ]
As above, however
the value will be written with the least significant byte first.
.TP 8n
\fB\-Crop\fP \fIaddress-range\fP
This filter may be used to isolate a section of data, and discard the
rest.
.TP 8n
\fB\-Exclude\fP \fIaddress-range\fP
This filter may be used to exclude a section of data, and keep the rest.
The is the logical complement of the \fB\-Crop\fP filter.
.TP 8n
\fB\-Fill\fP \fIvalue\fP \fIaddress-range\fP
This filter may be used to fill any gaps in the data with bytes equal
to \fIvalue\fP.  The fill will only occur in the address range given.
.TP 8n
\fB\-Big_Endian_Length\fP \fIaddress\fP [ \fInbytes\fP ]
This filter may be used to insert the length of the data (high water
minus low water) into the data.  This includes the length itself.
If the data already contains bytes at the length location,
you need to use an exclude filter, or this will generate errors.
The value will be written with the most significant byte first.
The number of bytes defaults to 4.
.TP 8n
\fB\-Little_Endian_Length\fP \fIaddress\fP [ \fInbytes\fP ]
As above, however
the value will be written with the least significant byte first.
.TP 8n
\fB\-Big_Endian_MAXimum\fP \fIaddress\fP [ \fInbytes\fP ]
This filter may be used to insert the maximum address of the data (high water
 + 1) into the data.  This includes the maximum itself.
If the data already contains bytes at the given address,
you need to use an exclude filter, or this will generate errors.
The value will be written with the most significant byte first.
The number of bytes defaults to 4.
.TP 8n
\fB\-Little_Endian_MAXimum\fP \fIaddress\fP [ \fInbytes\fP ]
As above, however
the value will be written with the least significant byte first.
.TP 8n
\fB\-Big_Endian_MINimum\fP \fIaddress\fP [ \fInbytes\fP ]
This filter may be used to insert the minimum address of the data (low
water) into the data.  This includes the minimum itself.
If the data already contains bytes at the given address,
you need to use an exclude filter, or this will generate errors.
The value will be written with the most significant byte first.
The number of bytes defaults to 4.
.TP 8n
\fB\-Little_Endian_MINimum\fP \fIaddress\fP [ \fInbytes\fP ]
As above, however
the value will be written with the least significant byte first.
.TP 8n
\fB\-OFfset\fP \fInbytes\fP
This filter may be used to
offset the addresses by the given number of bytes.
No data is lost, the addresses will wrap around in 32 bits, if necessary.
.SS Address Ranges
There are three ways to specify an address range:
.TP 8n
\fIminimum\fP \fImaximum\fP
If you specify two number on the command line (decimal, octal and
hexadecimal are understood, using the C conventions) this is an explicit
address range.  The minimum is inclusive, the maximum is exclusive (one
more then the last address).  If the maximum is given as zero then the
range extends to the end of the address space.
.TP 8n
\fB\-Within\fP \fIinput-specification\fP
This says to use the specified input file as a mask.  The crop region
includes all the places the specified input has data, and holes where
it has holes.  The input specification need not be just a file name,
it may be anything any other input specification can be.
.TP 8n
\fB\-OVER\fP \fIinput-specification\fP
This says to use the specified input file as a mask.  The crop region
extends from the minimum to the maximum address used by the input, and
fills any holes.  The input specification need not be just a file name,
it may be anything any other input specification can be.
.PP
In addition, all of these methods may be used, and used more than once,
and the results will be added together.
